(this["webpackJsonpjournal-app"]=this["webpackJsonpjournal-app"]||[]).push([[0],{161:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(29),o=a.n(c),l=a(18),i=a.n(l),u=a(23),s=a(17),m=a(16),p=a(5),d=a(31),E=a(14),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],c=a[1],o=function(){c(e)},l=function(e){var t=e.target;c(Object(E.a)(Object(E.a)({},r),{},Object(d.a)({},t.name,t.value)))};return[r,l,o]},b=a(13),f="[Auth] Login",g="[Auth] Logout",_="[ui] Set Error",v="[ui] Remove Error",y="[Ui] Start Loading",j="[Ui] Finish Loading",N=a(25);a(163),a(70);N.a.initializeApp({apiKey:"AIzaSyCx_yIaV5ZxpDNVgEQ3kncv-12WzcurJPw",authDomain:"proyecto-login-94386.firebaseapp.com",projectId:"proyecto-login-94386",storageBucket:"proyecto-login-94386.appspot.com",messagingSenderId:"946878885975",appId:"1:946878885975:web:c2d4de7b79446494b03312"});N.a.firestore();var w=new N.a.auth.GoogleAuthProvider,O=function(e){return{type:_,payLoad:e}},k=function(){return{type:y}},x=function(e,t){return function(a){return N.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(k),a(C(t.uid,t.displayName))})).catch((function(e){console.log(e),a({type:j})}))}},C=function(e,t){return{type:f,payLoad:{uid:e,displayName:t}}},A=function(){return{type:g}},S=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.uid})),a=h({email:"",password:""}),n=Object(s.a)(a,2),c=n[0],o=n[1],l=c.email,p=c.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Login"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(x(l,p))}},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:l,onChange:o}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",password:p,onChange:o}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t},"Login"),r.a.createElement("div",{className:"auth__social-networks"},r.a.createElement("p",null,"Login with social networks"),r.a.createElement("div",{className:"google-btn"},r.a.createElement("div",{className:"google-icon-wrapper"},r.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})),r.a.createElement("p",{className:"btn-text",onClick:function(){e((function(e){N.a.auth().signInWithPopup(w).then(function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.user,t.next=3,e(C(n.uid,n.displayName));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},r.a.createElement("b",null,"Sign in with google")))),r.a.createElement(m.b,{to:"/auth/register",className:"link"},"Create new account")))},L=a(59),I=a.n(L),P=a(58),D=a.n(P),U=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.ui})).msjError,a=h({name:"",email:"",password:"",password2:""}),n=Object(s.a)(a,3),c=n[0],o=n[1],l=n[2],p=c.name,d=c.email,E=c.password,f=c.password2,g=function(){return 0===p.trim().length?(e(O("Nombre requerido")),!1):I.a.isEmail(d)?E!==f||E<5?(e(O("La contrase\xf1a es incorecta")),!1):(e({type:v}),!0):(e(O("Email requerido")),!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Register"),r.a.createElement("form",{onSubmit:function(a){var n;a.preventDefault(),n=t,D.a.fire({icon:"error",title:"Oops...",text:n}),g()&&(l(),e(function(e,t,a){return function(n){N.a.auth().createUserWithEmailAndPassword(e,t).then(function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,e.next=3,r.updateProfile({displayName:a});case 3:n(C(r.uid,r.displayName));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert("Hay un error mi so"+e)}))}}(d,E,p)))}},r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",className:"auth__input",autoComplete:"off",value:p,onChange:o}),r.a.createElement("input",{type:"email",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:d,onChange:o}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:E,onChange:o}),r.a.createElement("input",{type:"password",placeholder:"Confirm password",name:"password2",className:"auth__input",value:f,onChange:o}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mb-5"},"Register"),r.a.createElement(m.b,{to:"/auth/login",className:"link"},"Already registered?")))},z=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/auth/login",component:S}),r.a.createElement(p.b,{exact:!0,path:"/auth/register",component:U}),r.a.createElement(p.a,{to:"/auth/login"}))))},F=function(){return r.a.createElement("div",{className:"journal__entry pointer"},r.a.createElement("div",{className:"journal__entry-picture",style:{backgroundSize:"cover",backgroundImage:"url(https://earthsky.org/upl/2018/12/comet-wirtanen-Jack-Fusco-dec-2018-Anza-Borrego-desert-CA-e1544613895713.jpg)"}}),r.a.createElement("div",{className:"journal__entry-body"},r.a.createElement("p",{className:"journal__entry-title"},"Un nuevo d\xeda"),r.a.createElement("p",{className:"journal__entry-content"},"Reprehenderit id in duis consectetur deserunt veniam fugiat.")),r.a.createElement("div",{className:"journal__entry-date-box"},r.a.createElement("span",null,"Monday"),r.a.createElement("h4",null,"28")))},R=function(){return r.a.createElement("div",{className:"journal__entries"},[1,2,3,4,5].map((function(e){return r.a.createElement(F,{key:e})})))},W=function(){var e=Object(b.b)();return r.a.createElement("aside",{className:"journal__sidebar"},r.a.createElement("div",{className:"journal__sidebar-navbar"},r.a.createElement("h3",{className:"mt-5"},r.a.createElement("i",{className:"far fa-moon"}),r.a.createElement("span",null," Fernando")),r.a.createElement("button",{className:"btn",onClick:function(){e((function(e){N.a.auth().signOut(),e(A(!0))}))}},"Logout")),r.a.createElement("div",{className:"journal__new-entry"},r.a.createElement("i",{className:"far fa-calendar-plus fa-5x"}),r.a.createElement("p",{className:"mt-5"},"New entry")),r.a.createElement(R,null))},J=function(){return r.a.createElement("div",{className:"notes__appbar"},r.a.createElement("span",null,"28 de agosto 2020"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn"},"Picture"),r.a.createElement("button",{className:"btn"},"Save")))},B=function(){return r.a.createElement("div",{className:"notes__main-content"},r.a.createElement(J,null),r.a.createElement("div",{className:"notes__content"},r.a.createElement("input",{type:"text",placeholder:"Some awesome title",className:"notes__title-input",autoComplete:"off"}),r.a.createElement("textarea",{placeholder:"What happened today",className:"notes__textarea"}),r.a.createElement("div",{className:"notes__image"},r.a.createElement("img",{src:"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg",alt:"imagen"}))))},G=function(){return r.a.createElement("div",{className:"journal__main-content"},r.a.createElement(W,null),r.a.createElement("main",null,r.a.createElement(B,null)))},V=a(32),q=function(e){var t=e.isAuthenticated,a=e.component,n=Object(V.a)(e,["isAuthenticated","component"]);return r.a.createElement(p.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(p.a,{to:"/"}):r.a.createElement(a,e)}}))},M=function(e){var t=e.isAuthenticated,a=e.component,n=Object(V.a)(e,["isAuthenticated","component"]);return r.a.createElement(p.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(p.a,{to:"/auth/login"})}}))},T=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),d=l[0],E=l[1],h=Object(b.b)();return Object(n.useEffect)((function(){N.a.auth().onAuthStateChanged(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.uid)?(h(C(t.uid,t.displayName)),E(!0)):(console.log("Usuario no registrado"),E(!1)),c(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[h,c]),a?r.a.createElement("h1",null,"Cargando info"):r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(q,{path:"/auth",component:z,isAuthenticated:d}),r.a.createElement(M,{exact:!0,path:"/",component:G,isAuthenticated:d}),r.a.createElement(p.a,{to:"/auth/login"}))))},X=a(26),H=a(60),K={loading:!1,msjError:null},Q=Object(X.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{uid:t.payLoad.uid,name:t.payLoad.displayName};case g:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(E.a)(Object(E.a)({},e),{},{msjError:t.payLoad});case v:return Object(E.a)(Object(E.a)({},e),{},{msjError:null});case y:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case j:return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case g:return{};default:return e}}}),Z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.c,Y=Object(X.d)(Q,Z(Object(X.a)(H.a))),$=function(){return r.a.createElement(b.a,{store:Y},r.a.createElement(T,null))};a(161);o.a.render(r.a.createElement($,null),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.360453bf.chunk.js.map